<!-- Vista del perfil del usuario y sus listas. -->
<section class="account">
  <header class="account__header">
    <div>
      <h1>Mi cuenta</h1>
      <p>Gestiona tu acceso a cursos y compras.</p>
      <p class="account__name">Hola, {{ auth.user()?.name || 'Usuario' }}.</p>
    </div>
    <button class="btn btn--ghost" (click)="logout()">Cerrar sesion</button>
  </header>

  @if (loading) {
    <p>Cargando...</p>
  } @else {
    <div class="account__grid">
      <div class="panel">
        <h2>Mis cursos</h2>
        @if (enrollments.length === 0) {
          <p>No tienes cursos registrados.</p>
        } @else {
          <ul>
            @for (item of enrollments; track item.id) {
              <li>{{ item.title || ('Curso #' + item.course_id) }}</li>
            }
          </ul>
        }
      </div>
      <div class="panel">
        <h2>Mis compras</h2>
        @if (purchases.length === 0) {
          <p>No tienes compras registradas.</p>
        } @else {
          <ul>
            @for (item of purchases; track item.id) {
              <li>{{ item.name || ('Kit #' + item.kit_id) }} - {{ item.quantity }}</li>
            }
          </ul>
        }
      </div>
    </div>
  }
</section>
